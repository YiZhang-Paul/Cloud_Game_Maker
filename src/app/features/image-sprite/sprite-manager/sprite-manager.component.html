<div class="container">
    <app-sprite-editor *ngIf="editing"
        [file]="editing"
        (importNew)="onFileEdit($event, true)"
        (overwrite)="onFileEdit($event)"
        (saveAsNew)="onFileEdit($event, true)"
        (cancel)="editing = null"
        cdkDragBoundary="body"
        cdkDrag>

        <div cdkDragHandle></div>
    </app-sprite-editor>

    <div *ngIf="!files.length" fxLayoutAlign="center center" fxFlex>
        <app-file-picker [message]="'no sprite available'"
            [buttonText]="'Import Sprite'"
            [allowExtension]="['png', 'jpg']"
            (fileSelect)="onFileSelect($event)">
        </app-file-picker>
    </div>

    <div *ngIf="files.length" fxLayout="column" fxFlex>
        <app-sprite-manager-toolbar (fileSelect)="onFileSelect($event)"
            (fileSearch)="onFileSearch($event)">
        </app-sprite-manager-toolbar>

        <div class="sprite-files" fxLayout="row wrap" fxLayoutAlign="space-between">
            <app-sprite-thumbnail-item *ngFor="let file of filteredFiles"
                [file]="file"
                (editStart)="editing = file"
                (delete)="onFileDelete(file)">
            </app-sprite-thumbnail-item>
        </div>
    </div>
</div>
